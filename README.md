[日本語](README.md) / [English](docs/en/README.md) /
※日本語以外は機械翻訳です。
- [開発者向けWiki](docs/ja/index.md)

## Allowance Questboard(お小遣いクエストボード)
本アプリは、親が「クエスト」と呼ばれるお手伝いや成長を促すタスクを作成し、\
子供が自らでクエストを自由に選んで挑戦できるアプリです。\
クエストを達成すると、お小遣いや経験値を獲得でき、ゲーム感覚でクエストに取り組めるため、自発的に成長できると考えています。 \
また、オンラインで家庭間のクエストを共有する機能により、異なる視点からクエストのアイデアを取り入れることができるのも本アプリの魅力です。

以下は基本的な一連のサイクルです。

![image](https://github.com/user-attachments/assets/f096b26e-6d36-46cf-add6-ac7cbcaeb032)


## 背景
昨今ではゲームやSNSに夢中になり、不登校になる子供が増えています。 \
私自身も過去に同じような状況を経験し、この問題を解決する手助けをアプリ開発を通じてできないかと考え、 \
本プロジェクトを立ち上げました。

## 機能紹介
本アプリには、親が子供の成長をサポートするためのさまざまな機能を実装する予定です。 \
以下にサービス利用イメージと代表的な機能を紹介します。

![サービス利用イメージ](https://github.com/user-attachments/assets/7d154115-1bdd-4582-b6c6-f301ea75540b) \
（上記図は利用ユーザ向けに作成した簡易イメージ図であり、実際の処理とは異なります。）

① クエスト登録・編集機能
- 親が子供向けのクエストを登録・編集できる。
- クエストごとに 成功条件（例：写真提出、チェックリストの完了など）を設定可能。
- 達成時に獲得できる 報酬（金額や経験値） を自由に設定可能。

② クエスト受注機能
- 子供は登録されたクエストの中から自由に選択して受注できる。

③ 達成報告／報酬支払機能
- 子供はアプリを通じてクエストの達成報告の申請をすることができる。
- 親がクエストの達成報告を承認することで、来月のお小遣いに報酬額が加算される。

④ オンラインクエスト公開／取得機能
- 親がクエストをオンライン上に共有できる。
- 他の親ユーザは、公開されたクエストに対して「保存」「いいね」「コメント」が可能。
- 「いいね」が多いクエストは優先して上位に表示することが可能。

その他の機能
- 罰金機能：違反行為に対する罰金を設定し、お小遣いから差し引くことが可能。
- 貯金機能：子供がお小遣いを貯金し、必要なときに引き出せる。
- 定額お小遣いテーブル設定機能：月ごとに固定のお小遣い額を設定できる。
- その他の機能も実装予定

## 設計について
## 画面設計
本アプリの画面設計は Figma を使用して作成しています。\
 [こちら](https://www.figma.com/proto/WJpCB11rIjR94aZ5yha8hD/%E3%81%8A%E5%B0%8F%E9%81%A3%E3%81%84%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%83%9C%E3%83%BC%E3%83%89?node-id=0-1&t=60dloXpi9znEWQcy-1) からプロトタイプを確認できます。\
（上記リンクはFigmaのログインが必要です。）

![画面設計例2025-02-21 3 07 26](https://github.com/user-attachments/assets/e6a1ee53-e314-4d0a-b4ec-dc4c39d62ed9)

## データベース設計
本アプリのデータベース設計は Mermaid記法 を使用して作成しています。\
以下のER図で各データの関係性を確認できます。
- [ユーザERD](https://www.mermaidchart.com/raw/29d432f8-eee8-4fde-a9bd-6250c648c78c?theme=light&version=v0.1&format=svg)
- [クエストERD](https://www.mermaidchart.com/raw/3f328b02-9b02-400e-ae65-b0574c59508c?theme=light&version=v0.1&format=svg) 
- [その他ERD](https://www.mermaidchart.com/raw/b6cd4ba8-dc7a-4e1a-8d5c-c68674af9910?theme=light&version=v0.1&format=svg)

※本アプリではDBの構造を理解するためリレーショナルデータベースを意識した設計を行っていますが、\
Firestoreへの適用時は構造を最適化し反映する予定です。

## アーキテクチャ設計
![allowance_questboard_DDD_clsd](https://github.com/user-attachments/assets/e578480e-fd85-4cdf-ad19-0d716d2d729c)

本アプリは 「クエストの作成・管理」「報酬の計算」「罰金の適用」 など、複数のビジネスルールを持ち、
個人開発としては機能が多く、今後の拡張性も考慮する必要があるため、アーキテクチャにドメイン駆動設計（DDD） を採用しました。

\
詳細は以下から確認できます。
- [アーキテクチャ簡易クラス図](out/document/DDD_clsd/allowance_questboard_DDD_clsd.svg)（画像を拡大するには、右上の「Raw」を押してください。）
- [ドメインモデルクラス図](out/document/domain_erd/allowance_questboard_clsd.svg)
- [ディレクトリ構成の説明](document/dir_arch.md)

## 現在の進捗と今後の予定
- 完了済みのタスク
  - 設計
  - Logger機能の実装（メモリ保存 + 1日おきのDB送信）
- 現在のタスク
  - 各画面と内部処理・単体テスト作成
  - CIの設定
- 今後の予定
  - 画面遷移の作成 
  - ログインに関するセキュリティ対策の調査（認証・アクセス管理など）
    - Firestoreとの連携

## おわりに
本ページをご覧いただき、ありがとうございます。\
アプリ「お小遣いクエストボード」は、ユーザーが使いやすく、かつメンテナーが保守しやすいアプリを作ることを目指しています。\
最近は仕事や資格勉強が忙しく、なかなか進捗が思うように進まないのですが、合間を縫って開発を進めています。\
今後も少しずつ機能を追加し、完成を目指しますので、進捗に期待いただけると嬉しいです。
