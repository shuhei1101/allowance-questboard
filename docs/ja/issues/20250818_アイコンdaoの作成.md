# 20250818

- [x] BaseTranslationDaoを作成する
  - BaseDaoを継承して、翻訳のためのメソッド(findAllTranslations)を追加
    - 戻り値で、BaseTranslationEntitiesを返す
  - findBySourceIdを追加
    - 戻り値で、BaseTranslationEntitiesを返す

- [x] Dao作成
IconCategoryDaoとIconCategoryTranslationDaoを作成してください。キャッシュありね

IconCategoryTranslationDaoはBaseTranslationDaoを継承して、findAllTranslationsWithCacheとfindBySourceIdWithCacheを実装してください。

参考: FamilyMemberDao

- [x] IconDaoの作成
  - IconDao:
    - fetchAll()

- [x] Iconドメインモデルの作成
- 配置: `packages/backend/src/features/icon/domain/icon.ts`
  - メンバ
    - id: IconId
      - 配置: `packages/backend/src/features/icon/value-objects/iconId.ts`
    - iconCategoryId: IconCategoryId
      - 配置: `packages/backend/src/features/icon-category/value-objects/iconCategoryId.ts
    - name: IconName
      - 配置: `packages/backend/src/features/icon/value-objects/iconName.ts`
    - sortOrder: SortOrder
      - 配置: `packages/backend/src/features/shared/value-objects/sortOrder.ts`
    - isActive: boolean

- [x] iconsの作成
  - BaseCollectionを継承したIconsクラス(Iconクラスのファーストクラスコレクション)
    - 配置: `packages/backend/src/features/icon/domain/icons.ts`

- [x] iconCategoryの中にiconsをもたせるよう変更する

- [x] IconCategoryRepositoryの作成
  - IconCategoryDaoからIconCategoriesを取得
  - IconDao.fetchallでIconsを生成
  - iconCategories.setIcons(icons)メソッド実行


- [x] BaseDomainModelを分割
  - 以下構成に変更
    - BaseDomainModel
      id: IdType;
      version: Version;
    - BaseMasterModel extends BaseDomainModel
    - BaseTransactionModel extends BaseDomainModel
      createdAt?: Date;
      createdBy?: FamilyMemberId;
      createdFrom?: ScreenId;
      updatedAt?: Date;
      updatedBy?: FamilyMemberId;
      updatedFrom?: ScreenId;
      isUpdated: boolean = false;

- [x] Icon関連のクラスにtoZodDataとfromZodDataを実装
  - Icon
  - Icons
  - IconCategory
  - IconCategoryNames
  - IconCategoryNameByLanguage
  - IconCategories
- 上記には以下を実装
  - {クラス名}Schema(同じファイル内に定義)
  - toZodData(): ZodData
  - fromZodData(zodData: ZodData): {クラス名}
- 下の階層から実装順番に実装すること
- 値オブジェクトのtoZodDataとfromZodDataを使用して、Schemaを定義すること
例: 
```typescript
interface {クラス名}Schema {
  id: BaseIdSchema;
  name_by_languages: IconCategoryNamesSchema;
  sort_order: SortOrderSchema;
  is_active: z.ZodBoolean;
  ... // 他のプロパティ
}
```



- [ ] 初回データ取得処理でアイコンカテゴリ取得実装
  - [ ] 初回データ取得処理でIconCategoryRepository.findAllWithIconsを実行
  - [ ] IconCategoriesを取得し、フロントエンドのAppConstants静的クラスに入れてください。
- 


## アイコン選択画面作成
- 引数なし
- 戻り値: 選択されたアイコン名: `IconName`

### コンポーネント
- 戻るボタン: アクションバー左
- タイトル: アクションバー中央
- 確定ボタン（チェックマーク）: アクションバー右
  - アイコンを選択しているときのみ有効化
  - 選択されていない場合は無効化
  - 押下時: 選択されたアイコン名を返す
- タブバー: アクションバーのすぐ下
  - アイコンカテゴリをタブとして表示
- アイコン一覧: タブバーの下にアイコン一覧を表示
  - 現在選択中のアイコンカテゴリのアイコンを表示

## データ取得
- AppConstants.iconCategoriesからアイコンカテゴリを取得
