# 開発者向け共通Wikiトップページ

## 1. 実装する前に
- 何を実装するにしても、まずは**設計書を確認**すること
  - どれを参考にする予定か、実装前に必ず教えてください
- 設計書を確認して、「さぁ実装」とする前に**一度似たような実装を確認**すること
- コーディング規約を確認すること
  - [コーディング規約](common/コーディング規約.md)
- フォルダ構成や書き方がドキュメントと異なる場合は、修正するかユーザに確認すること

- 実装後は以下を行うこと
  - [単体テストの実施](./common/単体テスト.md)
  - 関連する設計書を更新

## 3. 今から何をする？
### フロントエンド
- [ページを作る](./frontend/ページ.md)
- [VS Codeでデバッグする](./frontend/VSCodeデバッグ.md)

### バックエンド


## 簡易全体クラス図
```mermaid
classDiagram
direction TB

class 構造体

class State {
  <<Zustandストア>>
  xxx: 構造体x
  yyy: 構造体y
}
class ページ
class ユースケース_フロントエンド {
  ユースケースA(params): result
  ユースケースB(params): result
}

class Supabaseクライアント {
  クエリ名(BaseRequest): BaseResponse
}

ページ --> ユースケース_フロントエンド: ユースケース実行
ページ --> ZustandStore: 状態取得

ユースケース_フロントエンド --> ZustandStore: 状態更新
ユースケース_フロントエンド --> クエリサービス: 結合されたデータ取得(ページネーション、リアルタイムデータ同期)
ユースケース_フロントエンド --> tRPCルーター: データ更新等

Supabaseクライアント --> Supabase: データ取得

class tRPCルーター {
  エンドポイントメソッド(リクエスト): レスポンス
}

class ユースケース_バックエンド {
  ユースケース名(Params): Result
}

class クエリサービス {
  クエリ名(クエリParams): Result
}

class ドメインモデル {
  プロパティA: 値オブジェクト
  プロパティB: 値オブジェクト
  from_entity(): ドメインモデル
}

APサーバ --> tRPCルーター: エンドポイントメソッド実行

tRPCルーター --> クエリサービス: クエリサービス実行
tRPCルーター --> ユースケース_バックエンド: ユースケース実行

クエリサービス --> Supabase: 結合されたデータ取得

ユースケース_バックエンド --> リポジトリ: ドメインモデル単位のCRUD
ユースケース_バックエンド --> クエリサービス: 結合されたデータ取得(取得後ドメインモデルに変換)
ユースケース_バックエンド --> ドメインモデル: ビジネスロジック実行

リポジトリ --> DAO: データ取得
リポジトリ --> ドメインモデル: 構築

DAO --> RedisCache: キャッシュの作成、取得、削除
DAO --> Supabase: エンティティ単位のCRUD
DAO --> エンティティ: 永続化管理
```
