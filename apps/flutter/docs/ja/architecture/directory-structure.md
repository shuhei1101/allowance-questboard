# 🧱 ディレクトリ構成

## Flutterアプリ全体の構成

```plaintext
apps/flutter/
├── lib/                          ... メインのソースコード
│   ├── main.dart                 ... アプリケーションのエントリーポイント
│   ├── application/              ... アプリケーションサービス層
│   │   ├── family/              ... 家族関連のアプリケーションサービス
│   │   ├── member/              ... メンバー関連のアプリケーションサービス
│   │   └── quest/               ... クエスト関連のアプリケーションサービス
│   ├── core/                    ... コア機能・設定
│   │   ├── constants/           ... 定数定義
│   │   ├── router/              ... ルーティング設定
│   │   └── setup/               ... アプリ初期化
│   ├── domain/                  ... ドメイン層
│   │   ├── model/               ... ドメインモデル
│   │   └── repository/          ... リポジトリインターフェース
│   ├── family/                  ... 家族機能
│   │   ├── api/                ... API関連
│   │   ├── home/               ... ホーム画面関連
│   │   ├── query_service/      ... クエリサービス
│   │   └── shared/             ... 家族機能共通
│   ├── generated/              ... 自動生成ファイル
│   │   └── l10n.dart          ... 多言語対応
│   ├── infrastracture/         ... インフラストラクチャ層
│   │   ├── dao/               ... データアクセスオブジェクト
│   │   └── entity/            ... エンティティ
│   ├── l10n/                  ... 多言語リソース
│   ├── login/                 ... ログイン機能
│   │   └── page/             ... ログインページ
│   ├── member/                ... メンバー機能
│   │   └── query_service/    ... クエリサービス
│   ├── presentation/          ... プレゼンテーション層（画面要素）
│   │   ├── member/           ... メンバー関連画面
│   │   └── quest/            ... クエスト関連画面
│   ├── quest/                 ... クエスト機能
│   │   ├── api/              ... API関連
│   │   └── query_service/    ... クエリサービス
│   ├── sandbox/               ... 実験・テスト用
│   └── shared/                ... 共通機能
│       ├── api/              ... API通信
│       ├── page/             ... 共通ページコンポーネント
│       ├── state/            ... 状態管理
│       ├── theme/            ... テーマ設定
│       └── util/             ... ユーティリティ
├── test/                      ... テストコード
│   ├── shared/               ... 共通機能のテスト
│   └── ...                   ... 各機能のテスト
├── android/                   ... Android固有の設定
├── ios/                      ... iOS固有の設定
├── linux/                    ... Linux固有の設定
├── macos/                    ... macOS固有の設定
├── web/                      ... Web固有の設定
├── windows/                  ... Windows固有の設定
└── pubspec.yaml              ... Dart/Flutterの依存関係設定
```

## ディレクトリの責務

### core/ - コア機能
- アプリケーション全体で使用される基本的な設定や定数
- ルーティング設定、初期化処理など

### domain/ - ドメイン層
- ビジネスロジックの中核となるドメインモデル
- 外部依存を持たない純粋なビジネスルール

### application/ - アプリケーションサービス層
- ドメインモデルを組み合わせたユースケースの実装
- UI層とドメイン層の橋渡し役

### infrastracture/ - インフラストラクチャ層
- データベースアクセス、API通信などの外部システムとの連携
- ドメイン層で定義されたインターフェースの実装

### shared/ - 共通機能
- 複数の機能で使いまわされるコンポーネントやユーティリティ
- API通信、状態管理、テーマなど

### 機能別ディレクトリ (family/, member/, quest/, login/)
- 各ドメインに特化した機能の実装
- ページ、コンポーネント、API、サービスなどを含む

## 命名規則

- ディレクトリ名: snake_case
- ファイル名: snake_case
- クラス名: PascalCase
- 変数・メソッド名: camelCase